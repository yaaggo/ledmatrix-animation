#include "animations.h"

rgb_led hex_to_rgb_conversor(uint32_t hex_color) {
    rgb_led led;

    led.b = (hex_color >> 16) & 0xFF;
    led.g = (hex_color >> 8) & 0xFF;
    led.r = hex_color & 0xFF;

    return led;
}

void animation_play(uint8_t frames,
                    uint32_t duration, 
                    rgb_led *leds,
                    const uint32_t animation[][25]) {

    uint32_t frametime = duration / frames;

    for(uint8_t i = 0; i < frames; i++) {
        for(uint8_t j = 0; j < LED_COUNT; j++) {
            rgb_led led = hex_to_rgb_conversor(animation[i][j]);

            matrix_set_led_horizontally(
                j, 
                COLOR(led.r, led.g, led.b),
                leds 
            );

            //printf("%d %d %d\n", led.r, led.g, led.b);
        }

        matrix_update(leds);
        sleep_ms(frametime);
    }
}

 const uint32_t bubble_sort_data[23][25] = {
{
0xffffffff, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
0xffffffff, 0xffffffff, 0x00000000, 0x00000000, 0x00000000, 
0xffffffff, 0xffffffff, 0x00000000, 0x00000000, 0xffffffff, 
0xffffffff, 0xffffffff, 0xffffffff, 0x00000000, 0xffffffff, 
0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0xff0000eb, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
0xff0000eb, 0xffffffff, 0x00000000, 0x00000000, 0x00000000, 
0xff0000eb, 0xffffffff, 0x00000000, 0x00000000, 0xffffffff, 
0xff0000eb, 0xffffffff, 0xffffffff, 0x00000000, 0xffffffff, 
0xff0000eb, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0x00000000, 0xff0000eb, 0x00000000, 0x00000000, 0x00000000, 
0xffffffff, 0xff0000eb, 0x00000000, 0x00000000, 0x00000000, 
0xffffffff, 0xff0000eb, 0x00000000, 0x00000000, 0xffffffff, 
0xffffffff, 0xff0000eb, 0xffffffff, 0x00000000, 0xffffffff, 
0xffffffff, 0xff0000eb, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0xff0000eb, 0x00000000, 0x00000000, 
0xffffffff, 0x00000000, 0xff0000eb, 0x00000000, 0x00000000, 
0xffffffff, 0x00000000, 0xff0000eb, 0x00000000, 0xffffffff, 
0xffffffff, 0xffffffff, 0xff0000eb, 0x00000000, 0xffffffff, 
0xffffffff, 0xffffffff, 0xff0000eb, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 0x00000000, 
0xffffffff, 0x00000000, 0x00000000, 0xff0000eb, 0x00000000, 
0xffffffff, 0x00000000, 0x00000000, 0xff0000eb, 0xffffffff, 
0xffffffff, 0xffffffff, 0x00000000, 0xff0000eb, 0xffffffff, 
0xffffffff, 0xffffffff, 0xffffffff, 0xff0000eb, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 
0xffffffff, 0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 
0xffffffff, 0x00000000, 0x00000000, 0xffffffff, 0xff0000eb, 
0xffffffff, 0xffffffff, 0x00000000, 0xffffffff, 0xff0000eb, 
0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 0xff0000eb
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0xffffffff, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0xffffffff, 0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 
0xffffffff, 0xffffffff, 0x00000000, 0xffffffff, 0xffffffff, 
0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0xff0000eb, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0xff0000eb, 0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 
0xff0000eb, 0xffffffff, 0x00000000, 0xffffffff, 0xffffffff, 
0xff0000eb, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0xff0000eb, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0xff0000eb, 0x00000000, 0xffffffff, 0xffffffff, 
0xffffffff, 0xff0000eb, 0x00000000, 0xffffffff, 0xffffffff, 
0xffffffff, 0xff0000eb, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0xff0000eb, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0xff0000eb, 0xffffffff, 0xffffffff, 
0xffffffff, 0x00000000, 0xff0000eb, 0xffffffff, 0xffffffff, 
0xffffffff, 0xffffffff, 0xff0000eb, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 0xffffffff, 
0x00000000, 0x00000000, 0xffffffff, 0xff0000eb, 0xffffffff, 
0xffffffff, 0x00000000, 0xffffffff, 0xff0000eb, 0xffffffff, 
0xffffffff, 0xffffffff, 0xffffffff, 0xff0000eb, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 
0x00000000, 0x00000000, 0x00000000, 0xffffffff, 0xff0000eb, 
0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 0xff0000eb, 
0xffffffff, 0x00000000, 0xffffffff, 0xffffffff, 0xff0000eb, 
0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 0xff0000eb
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 
0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 
0xffffffff, 0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 
0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 
0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 
0xff0000eb, 0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 
0xff0000eb, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 
0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 
0x00000000, 0xff0000eb, 0xffffffff, 0xffffffff, 0xffffffff, 
0xffffffff, 0xff0000eb, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 
0x00000000, 0x00000000, 0xff0000eb, 0xffffffff, 0xffffffff, 
0x00000000, 0xffffffff, 0xff0000eb, 0xffffffff, 0xffffffff, 
0xffffffff, 0xffffffff, 0xff0000eb, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 0xffffffff, 
0x00000000, 0x00000000, 0xffffffff, 0xff0000eb, 0xffffffff, 
0x00000000, 0xffffffff, 0xffffffff, 0xff0000eb, 0xffffffff, 
0xffffffff, 0xffffffff, 0xffffffff, 0xff0000eb, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 
0x00000000, 0x00000000, 0x00000000, 0xffffffff, 0xff0000eb, 
0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 0xff0000eb, 
0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 0xff0000eb, 
0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 0xff0000eb
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 
0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 
0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 
0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 
0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 0xff0000eb, 
0x00000000, 0x00000000, 0xff0000eb, 0xff0000eb, 0xff0000eb, 
0x00000000, 0xff0000eb, 0xff0000eb, 0xff0000eb, 0xff0000eb, 
0xff0000eb, 0xff0000eb, 0xff0000eb, 0xff0000eb, 0xff0000eb
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 
0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 
0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 
0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 
0x00000000, 0x00000000, 0x00000000, 0xff0000eb, 0xff0000eb, 
0x00000000, 0x00000000, 0xff0000eb, 0xff0000eb, 0xff0000eb, 
0x00000000, 0xff0000eb, 0xff0000eb, 0xff0000eb, 0xff0000eb, 
0xff0000eb, 0xff0000eb, 0xff0000eb, 0xff0000eb, 0xff0000eb
},
{
0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xffffffff, 
0x00000000, 0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 
0x00000000, 0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 
0x00000000, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 
0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff
}
};
